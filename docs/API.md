# Топология API

Последняя версия API: `1.0`\
Формат запроса: `https://<адрес-сервера>/api/method/<имя-API-метода>?<параметры>`:
- Метод всегда `GET`
- `<адрес-сервера>`: `mml.anidev.ru`
- `<имя-API-метода>`: Имя метода API. Например, `auth.register`
- `<параметры>`: Параметры запроса. Например, `v=1.0&login=example&password=example`

## Auth

### `auth.login`

Аутентификация пользователя.

Аргументы:

| Название   | Тип   | Описание            | Доступные значения |
|------------|-------|---------------------|--------------------|
| `login`    | `str` | Логин пользователя  |                    |
| `password` | `str` | Пароль пользователя |                    |
| `v`        | `str` | Версия API          |                    |

Возвращает (JSON):

| Название | Тип   | Описание      | Пример                       |
|----------|-------|---------------|------------------------------|
| `token`  | `str` | Токен доступа | `eyJCFJ9.eyJdfM30.C9adDS-h2` |

Возможные ошибки: Общие ошибки

### `auth.register`

....

### `auth.refreshToken`

....

## Users

WIP\
В будущем будет добавлена работа с пользователями.

## Modpacks

### `modpacks.create`

Загрузка модпака на сервер.

....

### `modpacks.update`

Обновление информации о модпаке.

....

### `modpacks.get`

Получение информации о модпаке.

Аргументы:

| Название     | Тип   | Описание                                                                  | Доступные значения                                                                                                                                                              |
|--------------|-------|---------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `modpack_id` | `int` | ID модпака                                                                |                                                                                                                                                                                 |
| `fields`     | `str` | (Опционально)<br/>Поля, которые нужно вернуть.<br/>Пример: `name,version` | - `name`<br/>- `description`<br/>- `version`<br/>- `archive`<br/>- `author`<br/>- `mods`<br/>- `mods_count`<br/>- `created_at`<br/>- `updated_at`                               |
| `token`      | `str` | Токен авторизации                                                         |                                                                                                                                                                                 |
| `v`          | `str` | Версия API                                                                |                                                                                                                                                                                 |


Возвращает (JSON):

| Название      | Тип    | Описание                   | Пример                                                                      |
|---------------|--------|----------------------------|-----------------------------------------------------------------------------|
| `name`        | `str`  | Название модпака           | `Example Modpack`                                                           |
| `description` | `str`  | Описание модпака           | `This is an example modpack`                                                |
| `version`     | `str`  | Версия модпака             | `Super Stabe v1.1`                                                          |
| `archive`     | `list` | Все версии модпака         | [`test`, `new`, `Super Stabe v1.1`]                                         |
| `author`      | `str`  | Автор модпака              | `example`                                                                   |
| `mods`        | `dict` | Список модов в модпаке     | `{"mode_name": {"sha256": "asdasd", "link": "https://....", "size": 1552}}` |
| `mods_count`  | `int`  | Количество модов в модпаке | `3`                                                                         |
| `created_at`  | `str`  | Дата создания модпака      | `2025-01-01T00:00:00`                                                       |
| `updated_at`  | `str`  | Дата последнего обновления | `2025-04-01T00:00:00`                                                       |

Возможные ошибки: Общие ошибки, `100`

### `modpacks.delete`

Удаление модпака.

Аргументы:

| Название     | Тип   | Описание          | Доступные значения |
|--------------|-------|-------------------|--------------------|
| `modpack_id` | `int` | ID модпака        |                    |
| `token`      | `str` | Токен авторизации |                    |
| `v`          | `str` | Версия API        |                    |

Возвращает (JSON):

| Название | Тип    | Описание        | Пример |
|----------|--------|-----------------|--------|
| `status` | `bool` | Статус операции | `true` |

Возможные ошибки: Общие ошибки, `100`
